"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{84751:function(e,t,n){n.r(t),n.d(t,{OpenloginAdapter:function(){return ue},getOpenloginDefaultOptions:function(){return se}});var r=n(2043),i=n.n(r),o=n(4942),a=n(2450),s=n(20917),c=n(95844),l=n(15048),h=n(72378),u=n.n(h),p=n(74286),d=n.n(p),f=n(48764).Buffer;const g="openlogin-modal",m="openlogin_store",v="popup",y="redirect",w="openlogin_login",E="openlogin_logout",b="openlogin_check_3PC_support",k="openlogin_set_pid_data",O="openlogin_get_data",P="popup",C="redirect",N="jrpc",_="mainnet",I="testnet",x="cyan",S="development",Z="secp256k1",R="ed25519";i().setLevel("error");var T=i().getLogger("openlogin");async function U(){return new Promise((e=>{"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",(()=>{e()}))}))}function L(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t={},n=new URL(window.location.href);n.searchParams.forEach(((e,n)=>{"result"!==n&&(t[n]=e)}));const r=n.searchParams.get("result");if(r)try{const e=JSON.parse((0,l.sX)(r));Object.keys(e).forEach((n=>{t[n]=e[n]}))}catch(s){T.error(s)}const i=n.hash.substring(1),o=new URL("".concat(window.location.origin,"/?").concat(i));o.searchParams.forEach(((e,n)=>{"result"!==n&&(t[n]=e)}));const a=o.searchParams.get("result");if(a)try{const e=JSON.parse((0,l.sX)(a));Object.keys(e).forEach((n=>{t[n]=e[n]}))}catch(s){T.error(s)}if(e){const e=window.location.origin+window.location.pathname;window.history.replaceState(null,"",e)}return t}function D(e,t){return new Promise(((n,r)=>{if(!t)return void r(new Error("Unable to open window"));let i=!1;const o=setInterval((()=>{!i&&t.closed&&(clearInterval(o),r(new Error("user closed popup")))}),500),a=s=>{const{pid:c}=s.data;e===c&&(window.removeEventListener("message",a),i=!0,clearInterval(o),t.close(),s.data.data&&s.data.data.error?r(new Error(s.data.data.error)):n(s.data.data))};window.addEventListener("message",a)}))}function A(e){const{baseURL:t,query:n,hash:r}=e,i=new URL(t);if(n&&Object.keys(n).forEach((e=>{i.searchParams.append(e,n[e])})),r){const e=new URL(A({baseURL:t,query:r})).searchParams.toString();i.hash=e}return i.toString()}function j(e){let t,n=!1,r=0;try{t=window[e],n=!0,r=t.length;const i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(i){return i&&(22===i.code||1014===i.code||"QuotaExceededErro r"===i.name||"NS_ERROR_DOM_QUOTA_REACHED"===i.name)&&n&&0!==r}}const M=j("sessionStorage"),K=j("localStorage");function W(){const e=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,r=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,i=Math.abs((n-1200)/2/1+e),o=Math.abs((r-700)/2/1+t);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(o,",left=").concat(i)}class q{constructor(e){(0,o.Z)(this,"modalUrl",void 0),(0,o.Z)(this,"iframeElem",void 0),(0,o.Z)(this,"initialized",!1),(0,o.Z)(this,"modalZIndex",99999),(0,o.Z)(this,"mux",void 0),(0,o.Z)(this,"verifierStream",void 0),this.modalUrl=e}async init(){await this.initIFrame(this.modalUrl),this.setupStream()}setupStream(){if(null===this.iframeElem)throw new Error("iframe is null");this.mux=(0,c.V2)(new c.zc({name:"modal_iframe_rpc",target:"modal_rpc",targetWindow:this.iframeElem.contentWindow,targetOrigin:new URL(this.modalUrl).origin})),this.verifierStream=this.mux.createStream("verifier")}async initIFrame(e){await U();const t=document.getElementById(g);return t&&(t.remove(),T.info("already initialized, removing previous modal iframe")),this.iframeElem=(e=>{const t=window.document.createElement("template"),n=e.trim();return t.innerHTML=n,t.content.firstChild})("<iframe\n        id=".concat(g,'\n        class="torusIframe"\n        src="').concat(e,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'"\n      ></iframe>')),this._hideModal(),document.body.appendChild(this.iframeElem),new Promise((e=>{this.iframeElem.onload=()=>{this.initialized=!0,e()}}))}_showModal(){const e={display:"block",position:"fixed",width:"100%",height:"100%",top:"0px",right:"0px",left:"0px",bottom:"0px",border:"0"};e["z-index"]=this.modalZIndex,this.iframeElem.setAttribute("style",Object.entries(e).map((e=>{let[t,n]=e;return"".concat(t,":").concat(n)})).join(";"))}_hideModal(){const e={display:"none",position:"fixed",width:"100%",height:"100%",top:"0px",right:"0px",left:"0px",bottom:"0px",border:"0"};e["z-index"]=this.modalZIndex,this.iframeElem.setAttribute("style",Object.entries(e).map((e=>{let[t,n]=e;return"".concat(t,":").concat(n)})).join(";"))}async _prompt(e,t,n,r){this._showModal();((e,t,n)=>{const r=i=>{n(i),e.removeListener(t,r)};e.on(t,r)})(this.verifierStream,"data",(e=>{this._hideModal(),r(e)})),this.verifierStream.write({name:"prompt",clientId:e,whiteLabel:t,loginConfig:n})}async cleanup(){await U();const e=document.getElementById(g);e&&(e.remove(),this.iframeElem=null),this.initialized=!1}}class z{constructor(){(0,o.Z)(this,"store",{})}getItem(e){return this.store[e]||null}setItem(e,t){this.store[e]=t}}class B{constructor(e,t){(0,o.Z)(this,"_storeKey",m),(0,o.Z)(this,"storage",void 0),this.storage=e,this._storeKey=t||m;try{e.getItem(t||m)||this.resetStore()}catch(n){}}static getInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if(!this.instance){let n=new z;"local"===t&&K&&(n=localStorage),"session"===t&&M&&(n=sessionStorage);const r=e?"".concat(m,"_").concat(e):m;this.instance=new this(n,r)}return this.instance}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.setItem(this._storeKey,JSON.stringify({})),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey))}get(e){return JSON.parse(this.storage.getItem(this._storeKey))[e]}set(e,t){const n=JSON.parse(this.storage.getItem(this._storeKey));n[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(n))}}(0,o.Z)(B,"instance",void 0);class H extends c.Ue{constructor(){super(...arguments),(0,o.Z)(this,"iframeElem",null),(0,o.Z)(this,"rpcStream",void 0),(0,o.Z)(this,"iframeUrl",void 0),(0,o.Z)(this,"rpcEngine",void 0),(0,o.Z)(this,"initialized",void 0),(0,o.Z)(this,"mux",void 0)}init(e){let{iframeElem:t,iframeUrl:n}=e;this.iframeElem=t,this.iframeUrl=n,this.setupStream(),this.initialized=!0}setupStream(){if(null===this.iframeElem)throw new Error("iframe is null");this.rpcStream=new c.zc({name:"embed_rpc",target:"iframe_rpc",targetWindow:this.iframeElem.contentWindow,targetOrigin:new URL(this.iframeUrl).origin}),this.mux=(0,c.V2)(this.rpcStream);const e=(0,c.AP)();d()(e.stream,this.mux.createStream("jrpc"),e.stream,(e=>{T.error("JRPC connection broken",e)}));const t=new c.eI;t.push((0,c.Rq)()),t.push(e.middleware),this.rpcEngine=t}cleanup(){this.iframeElem=null,this.initialized=!1}_rpcRequest(e,t){e.jsonrpc||(e.jsonrpc="2.0"),e.id||(e.id=(0,l.kb)()),this.rpcEngine.handle(e,t)}}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){try{if("undefined"===typeof document)return;const t=document.createElement("link");t.href=e,t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t)}catch(t){T.error(t)}}("https://app.openlogin.com/sdk-modal");class F{constructor(e){var t,n,r,i,a,s,c,l,h,u,p;if((0,o.Z)(this,"provider",void 0),(0,o.Z)(this,"state",void 0),(0,o.Z)(this,"modal",void 0),this.provider=new Proxy(new H,{deleteProperty:()=>!0}),e._iframeUrl||(e.network===_?e._iframeUrl="https://app.openlogin.com":e.network===x?e._iframeUrl="https://cyan.openlogin.com":e.network===I?e._iframeUrl="https://beta.openlogin.com":e.network===S&&(e._iframeUrl="http://localhost:3000")),!e._iframeUrl)throw new Error("unspecified network and iframeUrl");this.modal=new q("".concat(e._iframeUrl,"/sdk-modal")),this.initState(J(J({},e),{},{no3PC:null!==(t=e.no3PC)&&void 0!==t&&t,_iframeUrl:e._iframeUrl,_startUrl:null!==(n=e._startUrl)&&void 0!==n?n:"".concat(e._iframeUrl,"/start"),_popupUrl:null!==(r=e._popupUrl)&&void 0!==r?r:"".concat(e._iframeUrl,"/popup-window"),redirectUrl:null!==(i=e.redirectUrl)&&void 0!==i?i:"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),uxMode:null!==(a=e.uxMode)&&void 0!==a?a:y,replaceUrlOnRedirect:null===(s=e.replaceUrlOnRedirect)||void 0===s||s,originData:null!==(c=e.originData)&&void 0!==c?c:{[window.location.origin]:""},whiteLabel:null!==(l=e.whiteLabel)&&void 0!==l?l:{},loginConfig:null!==(h=e.loginConfig)&&void 0!==h?h:{},_storageServerUrl:null!==(u=e._storageServerUrl)&&void 0!==u?u:"https://broadcast-server.tor.us",storageKey:"session"===e.storageKey?"session":"local",_sessionNamespace:null!==(p=e._sessionNamespace)&&void 0!==p?p:""}))}get privKey(){return this.state.privKey?this.state.privKey.padStart(64,"0"):""}initState(e){this.state={uxMode:e.uxMode,network:e.network,store:B.getInstance(e._sessionNamespace,e.storageKey),iframeUrl:e._iframeUrl,startUrl:e._startUrl,popupUrl:e._popupUrl,clientId:e.clientId,redirectUrl:e.redirectUrl,replaceUrlOnRedirect:e.replaceUrlOnRedirect,originData:e.originData,loginConfig:e.loginConfig,support3PC:!e.no3PC,whiteLabel:e.whiteLabel,storageServerUrl:e._storageServerUrl,sessionNamespace:e._sessionNamespace}}async init(){this.state.network===I&&console.log("%c WARNING! You are on testnet. Please set network: 'mainnet' in production","color: #FF0000"),await Promise.all([this.modal.init(),this.updateOriginData()]),this.provider.init({iframeElem:this.modal.iframeElem,iframeUrl:this.state.iframeUrl});const e=L(this.state.replaceUrlOnRedirect);if(e.sessionId&&this.state.store.set("sessionId",e.sessionId),this._syncState(await this._getData()),this.state.support3PC){const e=await this._check3PCSupport();this.state.support3PC=!!e.support3PC}}async updateOriginData(){const e=JSON.parse(JSON.stringify(this.state.originData));Object.keys(e).forEach((t=>{""===e[t]&&delete e[t]}));const[t,n]=await Promise.all([this.getWhitelist(),this.getWhiteLabel()]);this._syncState({originData:J(J({},t),e),whiteLabel:J(J({},n),this.state.whiteLabel)})}async getWhitelist(){try{const{clientId:e}=this.state;if(!e)throw new Error("unspecified clientId");const t=new URL("https://api.developer.tor.us/whitelist");t.searchParams.append("project_id",this.state.clientId);return(await(0,s.U2)(t.href)).signed_urls}catch(e){return{}}}async getWhiteLabel(){try{const{clientId:e}=this.state;if(!e)throw new Error("unspecified clientId");const t=new URL("https://api.developer.tor.us/whitelabel");t.searchParams.append("project_id",this.state.clientId);return(await(0,s.U2)(t.href)).whiteLabel}catch(e){return{}}}async login(e){return null!==e&&void 0!==e&&e.loginProvider?this._selectedLogin(e):this._modal(e)}async _selectedLogin(e){const t={redirectUrl:this.state.redirectUrl},n=J(J({loginProvider:e.loginProvider},t),e),r=await this.request({method:w,allowedInteractions:[y,v],startUrl:this.state.startUrl,popupUrl:this.state.popupUrl,params:[n]});return this.state.privKey=r.privKey,r.store?this._syncState(r):this.state.privKey&&this.state.support3PC&&this._syncState(await this._getData()),{privKey:this.privKey}}async logout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={};t.redirectUrl=this.state.redirectUrl,t._clientId=this.state.clientId,t.sessionId=this.state.store.get("sessionId"),e.clientId&&(t._clientId=e.clientId),void 0!==e.redirectUrl&&(t.redirectUrl=e.redirectUrl);const n=await this.request({method:E,params:[t],startUrl:this.state.startUrl,popupUrl:this.state.popupUrl,allowedInteractions:[N]});return this.state.privKey="",n}async request(e){var t;const n=(0,l.kb)();let{params:r}=e;const i={};if(1!==r.length)throw new Error("request params array should have only one element");const{startUrl:o,popupUrl:s,method:c,allowedInteractions:h}=e;if(0===h.length)throw new Error("no allowed interactions");if(this.state.clientId&&(i._clientId=this.state.clientId),this.state.sessionNamespace&&(i._sessionNamespace=this.state.sessionNamespace),this.privKey){const e={clientId:i._clientId,timestamp:Date.now().toString()},t=await(0,a.Xx)(f.from(this.privKey,"hex"),f.from((0,l.KO)("keccak256").update(JSON.stringify(e)).digest("hex"),"hex"));i._user=(0,a.rc)(f.from(this.privKey,"hex")).toString("hex"),i._userSig=l.tH.encode(t),i._userData=e}if(i._originData=this.state.originData,i._whiteLabelData=this.state.whiteLabel,i._loginConfig=this.state.loginConfig,i._sessionId=this.state.store.get("sessionId"),!i._sessionId){const e=(0,l.kb)();i._sessionId=e,this.state.store.set("sessionId",e)}if(r=[J(J({},i),r[0])],h.includes(N))return this._jrpcRequest({method:c,params:r});if(r[0]._origin=new URL(null!==(t=r[0].redirectUrl)&&void 0!==t?t:this.state.redirectUrl).origin,this.state.support3PC&&(await this._setPIDData(n,r),r=[{}]),!o||!s)throw new Error("no url for redirect / popup flow");if(this.state.uxMode===y){if(h.includes(C))return setTimeout((()=>{window.location.href=A({baseURL:o,hash:{b64Params:(0,l.zc)(r[0]),_pid:n,_method:c}})}),50),{};if(h.includes(P)){const e=new URL(A({baseURL:s,hash:{b64Params:(0,l.zc)(r[0]),_pid:n,_method:c}})),t=window.open(e.toString(),"_blank",W());return D(n,t)}}else{if(h.includes(P)){const e=new URL(A({baseURL:s,hash:{b64Params:(0,l.zc)(r[0]),_pid:n,_method:c}})),t=window.open(e.toString(),"_blank",W());return D(n,t)}if(h.includes(C))return setTimeout((()=>{window.location.href=A({baseURL:o,hash:{b64Params:(0,l.zc)(r[0]),_pid:n,_method:c}})}),50),null}throw new Error("no matching allowed interactions")}async _jrpcRequest(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("invalid request args");const{method:t,params:n}=e;if("string"!==typeof t||0===t.length)throw new Error("invalid request method");if(void 0===n||!Array.isArray(n))throw new Error("invalid request params");return 0===n.length&&n.push({}),new Promise(((e,r)=>{this.provider._rpcRequest({method:t,params:n},(0,c.nE)(e,r))}))}async _check3PCSupport(){return this._jrpcRequest({method:b,params:[{_originData:this.state.originData}]})}async _setPIDData(e,t){await this.request({allowedInteractions:[N],method:k,params:[{pid:e,data:t[0]}]})}async _getData(){return this.request({allowedInteractions:[N],method:O,params:[{}]})}_syncState(e){if(e.store){if("object"!==typeof e.store)throw new Error("expected store to be an object");Object.keys(e.store).forEach((t=>{this.state.store.set(t,e.store[t])}))}const{store:t}=this.state;this.state=J(J(J({},this.state),e),{},{store:t})}async _modal(e){return new Promise(((t,n)=>{this.modal._prompt(this.state.clientId,this.state.whiteLabel,this.state.loginConfig,(async r=>{if(r.cancel)n(new Error("user canceled login"));else try{const n=await this._selectedLogin(u()(e,r));t(n)}catch(i){n(i)}}))}))}async _cleanup(){await this.modal.cleanup(),this.provider.cleanup()}async encrypt(e,t){let n=t;if(n||(n=this.privKey),!/^[0-9a-fA-f]{64}$/.exec(n))throw""===n||void 0===n?new Error("private key cannot be empty"):new Error("invalid private key in encrypt");return(0,a.HI)((0,a.rc)(f.from(n,"hex")),e)}async decrypt(e,t){let n=t;if(n||(n=this.privKey),!/^[0-9a-fA-f]{64}$/.exec(n))throw""===n||void 0===n?new Error("private key cannot be empty"):new Error("invalid private key in decrypt");return(0,a.pe)(f.from(n,"hex"),e)}async getUserInfo(){if(this.privKey){const e=this.state.store.getStore();return{email:e.email||"",name:e.name||"",profileImage:e.profileImage||"",aggregateVerifier:e.aggregateVerifier||"",verifier:e.verifier||"",verifierId:e.verifierId||"",typeOfLogin:e.typeOfLogin||"",dappShare:e.dappShare||"",idToken:e.idToken||"",oAuthIdToken:e.oAuthIdToken||"",oAuthAccessToken:e.oAuthAccessToken||""}}throw new Error("user should be logged in to fetch userInfo")}async getEncodedLoginUrl(e){const{redirectUrl:t}=e,{clientId:n}=this.state;this.state.originData[origin]||await this.updateOriginData();const r=J({_clientId:n,_origin:new URL(t).origin,_originData:this.state.originData,redirectUrl:t},e),i={b64Params:(0,l.zc)(r),_method:"openlogin_login"};return A({baseURL:"".concat(this.state.iframeUrl,"/start"),hash:i})}}var G=n(16843),V=n(15861),X=n(15671),$=n(43144),Q=n(97326),ee=n(73237),te=n(32531),ne=n(82963),re=n(61120),ie=n(64687),oe=n.n(ie),ae=n(68531),se=function(e,t){return{adapterSettings:{network:_,clientId:"",uxMode:v},chainConfig:e?(0,G.h2)(e,t):null,loginSettings:{}}};function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,re.Z)(e);if(t){var i=(0,re.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,ne.Z)(this,n)}}var ue=function(e){(0,te.Z)(r,e);var t=he(r);function r(e){var n,i,a,s,c;(0,X.Z)(this,r),c=t.call(this),(0,o.Z)((0,Q.Z)(c),"name",G.rW.OPENLOGIN),(0,o.Z)((0,Q.Z)(c),"adapterNamespace",G.yk.MULTICHAIN),(0,o.Z)((0,Q.Z)(c),"type",G.hN.IN_APP),(0,o.Z)((0,Q.Z)(c),"openloginInstance",null),(0,o.Z)((0,Q.Z)(c),"clientId",void 0),(0,o.Z)((0,Q.Z)(c),"status",G.MP.NOT_READY),(0,o.Z)((0,Q.Z)(c),"currentChainNamespace",G.EN.EIP155),(0,o.Z)((0,Q.Z)(c),"openloginOptions",void 0),(0,o.Z)((0,Q.Z)(c),"loginSettings",{}),(0,o.Z)((0,Q.Z)(c),"privKeyProvider",null),G.cM.debug("const openlogin adapter",e);var l=se(null===(n=e.chainConfig)||void 0===n?void 0:n.chainNamespace,null===(i=e.chainConfig)||void 0===i?void 0:i.chainId);if(c.openloginOptions=le(le({clientId:"",network:_},l.adapterSettings),e.adapterSettings||{}),c.clientId=null===(a=e.adapterSettings)||void 0===a?void 0:a.clientId,c.loginSettings=le(le({},l.loginSettings),e.loginSettings),c.sessionTime=c.loginSettings.sessionTime||86400,null!==(s=e.chainConfig)&&void 0!==s&&s.chainNamespace){var h;c.currentChainNamespace=null===(h=e.chainConfig)||void 0===h?void 0:h.chainNamespace;var u=l.chainConfig?l.chainConfig:{};if(c.chainConfig=le(le({},u),null===e||void 0===e?void 0:e.chainConfig),G.cM.debug("const openlogin chainConfig",c.chainConfig),!c.chainConfig.rpcTarget&&e.chainConfig.chainNamespace!==G.EN.OTHER)throw G.Ty.invalidParams("rpcTarget is required in chainConfig")}return c}return(0,$.Z)(r,[{key:"chainConfigProxy",get:function(){return this.chainConfig?le({},this.chainConfig):null}},{key:"provider",get:function(){var e;return(null===(e=this.privKeyProvider)||void 0===e?void 0:e.provider)||null},set:function(e){throw new Error("Not implemented")}},{key:"init",value:function(){var e=(0,V.Z)(oe().mark((function e(t){var n,i,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,ee.Z)((0,re.Z)(r.prototype),"checkInitializationRequirements",this).call(this),null!==(n=this.openloginOptions)&&void 0!==n&&n.clientId){e.next=3;break}throw G.Ty.invalidParams("clientId is required before openlogin's initialization");case 3:if(this.chainConfig){e.next=5;break}throw G.Ty.invalidParams("chainConfig is required before initialization");case 5:return i=!1,this.openloginOptions.uxMode===y&&(o=L(),Object.keys(o).length>0&&o._pid&&(i=!0)),this.openloginOptions=le(le({},this.openloginOptions),{},{replaceUrlOnRedirect:i}),this.openloginInstance=new F(this.openloginOptions),G.cM.debug("initializing openlogin adapter init"),e.next=12,this.openloginInstance.init();case 12:if(this.status=G.MP.READY,this.emit(G.n2.READY,G.rW.OPENLOGIN),e.prev=14,G.cM.debug("initializing openlogin adapter"),!this.openloginInstance.privKey||!t.autoConnect&&!i){e.next=19;break}return e.next=19,this.connect();case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(14),G.cM.error("Failed to connect with cached openlogin provider",e.t0),this.emit("ERRORED",e.t0);case 25:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=(0,V.Z)(oe().mark((function e(t){return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,ee.Z)((0,re.Z)(r.prototype),"checkConnectionRequirements",this).call(this),this.status=G.MP.CONNECTING,this.emit(G.n2.CONNECTING,le(le({},t),{},{adapter:G.rW.OPENLOGIN})),e.prev=3,e.next=6,this.connectWithProvider(t);case 6:return e.abrupt("return",this.provider);case 9:if(e.prev=9,e.t0=e.catch(3),G.cM.error("Failed to connect with openlogin provider",e.t0),this.status=G.MP.READY,this.emit(G.n2.ERRORED,e.t0),null===e.t0||void 0===e.t0||!e.t0.message.includes("user closed popup")){e.next=16;break}throw G.RM.popupClosed();case 16:throw G.RM.connectionError("Failed to login with openlogin");case 17:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=(0,V.Z)(oe().mark((function e(){var t,n=arguments;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{cleanup:!1},this.status===G.MP.CONNECTED){e.next=3;break}throw G.RM.notConnectedError("Not connected with wallet");case 3:if(this.openloginInstance){e.next=5;break}throw G.Ty.notReady("openloginInstance is not ready");case 5:return e.next=7,this.openloginInstance.logout();case 7:t.cleanup?(this.status=G.MP.NOT_READY,this.openloginInstance=null,this.privKeyProvider=null):this.status=G.MP.READY,this.emit(G.n2.DISCONNECTED);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticateUser",value:function(){var e=(0,V.Z)(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===G.MP.CONNECTED){e.next=2;break}throw G.RM.notConnectedError("Not connected with wallet, Please login/connect first");case 2:return e.next=4,this.getUserInfo();case 4:return t=e.sent,e.abrupt("return",{idToken:t.idToken});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=(0,V.Z)(oe().mark((function e(){var t;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===G.MP.CONNECTED){e.next=2;break}throw G.RM.notConnectedError("Not connected with wallet");case 2:if(this.openloginInstance){e.next=4;break}throw G.Ty.notReady("openloginInstance is not ready");case 4:return e.next=6,this.openloginInstance.getUserInfo();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAdapterSettings",value:function(e){if(this.status!==G.MP.READY){var t=se();this.openloginOptions=le(le(le({},t.adapterSettings),this.openloginOptions||{}),e),e.sessionTime&&(this.loginSettings=le(le({},this.loginSettings),{},{sessionTime:e.sessionTime})),e.clientId&&(this.clientId=e.clientId)}}},{key:"setChainConfig",value:function(e){(0,ee.Z)((0,re.Z)(r.prototype),"setChainConfig",this).call(this,e),this.currentChainNamespace=e.chainNamespace}},{key:"connectWithProvider",value:function(){var e=(0,V.Z)(oe().mark((function e(t){var r,i,o,a,s,c,l,h;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.chainConfig){e.next=2;break}throw G.Ty.invalidParams("chainConfig is required before initialization");case 2:if(this.openloginInstance){e.next=4;break}throw G.Ty.notReady("openloginInstance is not ready");case 4:if(this.currentChainNamespace!==G.EN.SOLANA){e.next=12;break}return e.next=7,Promise.all([n.e(282),n.e(108),n.e(576),n.e(877),n.e(361)]).then(n.bind(n,54877));case 7:r=e.sent,i=r.SolanaPrivateKeyProvider,this.privKeyProvider=new i({config:{chainConfig:this.chainConfig}}),e.next=25;break;case 12:if(this.currentChainNamespace!==G.EN.EIP155){e.next=20;break}return e.next=15,Promise.all([n.e(482),n.e(763),n.e(961),n.e(26)]).then(n.bind(n,10961));case 15:o=e.sent,a=o.EthereumPrivateKeyProvider,this.privKeyProvider=new a({config:{chainConfig:this.chainConfig}}),e.next=25;break;case 20:if(this.currentChainNamespace!==G.EN.OTHER){e.next=24;break}this.privKeyProvider=new ae.FL,e.next=25;break;case 24:throw new Error("Invalid chainNamespace: ".concat(this.currentChainNamespace," found while connecting to wallet"));case 25:if(this.openloginInstance.privKey||!t){e.next=29;break}return this.loginSettings.curve||(this.loginSettings.curve=this.currentChainNamespace===G.EN.SOLANA?R:Z),e.next=29,this.openloginInstance.login(u()(this.loginSettings,{loginProvider:t.loginProvider},{extraLoginOptions:le(le({},t.extraLoginOptions||{}),{},{login_hint:t.login_hint||(null===(s=t.extraLoginOptions)||void 0===s?void 0:s.login_hint)})}));case 29:if(!(c=this.openloginInstance.privKey)){e.next=41;break}if(this.currentChainNamespace!==G.EN.SOLANA){e.next=37;break}return e.next=34,Promise.all([n.e(108),n.e(418)]).then(n.bind(n,33946));case 34:l=e.sent,h=l.getED25519Key,c=h(c).sk.toString("hex");case 37:return e.next=39,this.privKeyProvider.setupProvider(c);case 39:this.status=G.MP.CONNECTED,this.emit(G.n2.CONNECTED,{adapter:G.rW.OPENLOGIN,reconnected:!t});case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(G.J5)},68531:function(e,t,n){n.d(t,{FL:function(){return P},Zk:function(){return O}});var r=n(15671),i=n(43144),o=n(97326),a=n(32531),s=n(82963),c=n(73237),l=n(61120),h=n(4942),u=n(22782),p=n(16843),d=n(79826),f=n(15861),g=n(64687),m=n.n(g),v=n(95844),y=n(23420),w=n.n(y);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,h.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var O=function(e){(0,a.Z)(n,e);var t=k(n);function n(e){var i,a,s=e.config,u=e.state;if((0,r.Z)(this,n),a=t.call(this,{config:s,state:u}),(0,h.Z)((0,o.Z)(a),"_providerEngineProxy",null),!s.chainConfig)throw p.Ty.invalidProviderConfigError("Please provide chainConfig");if(!s.chainConfig.chainId)throw p.Ty.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!s.chainConfig.rpcTarget)throw p.Ty.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");return a.defaultState={chainId:"loading"},a.defaultConfig={chainConfig:s.chainConfig,networks:(0,h.Z)({},s.chainConfig.chainId,s.chainConfig)},(0,c.Z)((i=(0,o.Z)(a),(0,l.Z)(n.prototype)),"initialize",i).call(i),a}return(0,i.Z)(n,[{key:"provider",get:function(){return this._providerEngineProxy},set:function(e){throw new Error("Method not implemented.")}},{key:"addChain",value:function(e){if(!e.chainId)throw d.ethErrors.rpc.invalidParams("chainId is required");if(!e.rpcTarget)throw d.ethErrors.rpc.invalidParams("chainId is required");this.configure({networks:b(b({},this.config.networks),{},(0,h.Z)({},e.chainId,e))})}},{key:"getChainConfig",value:function(e){var t,n=null===(t=this.config.networks)||void 0===t?void 0:t[e];if(!n)throw d.ethErrors.rpc.invalidRequest("Chain ".concat(e," is not supported, please add chainConfig for it"));return n}},{key:"getProviderEngineProxy",value:function(){return this._providerEngineProxy}},{key:"updateProviderEngineProxy",value:function(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=(0,u.qY)(e)}}]),n}(u.xG),P=function(){function e(){(0,r.Z)(this,e),(0,h.Z)(this,"_providerEngineProxy",null)}return(0,i.Z)(e,[{key:"provider",get:function(){return this._providerEngineProxy},set:function(e){throw new Error("Method not implemented.")}},{key:"addChain",value:function(e){throw new Error("Method not implemented.")}},{key:"setupProvider",value:function(){var e=(0,f.Z)(m().mark((function e(t){var n,r,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.getPrivKeyMiddleware(t),(r=new v.eI).push(n),i=(0,u.Xj)(r),this.updateProviderEngineProxy(i);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"switchChain",value:function(){var e=(0,f.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProviderEngineProxy",value:function(){return this._providerEngineProxy}},{key:"updateProviderEngineProxy",value:function(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=(0,u.qY)(e)}},{key:"getPrivKeyMiddleware",value:function(e){var t={getPrivatekey:function(){var t=(0,f.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()};return this.createPrivKeyMiddleware(t)}},{key:"createPrivKeyMiddleware",value:function(e){var t=e.getPrivatekey;function n(){return(n=(0,f.Z)(m().mark((function e(n,r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:r.result=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,v.v0)({private_key:(0,v.Pk)((function(e,t){return n.apply(this,arguments)}))})}}]),e}();(0,h.Z)(P,"getProviderInstance",function(){var e=(0,f.Z)(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new P,e.next=3,n.setupProvider(t.privKey);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());w()()},16843:function(e,t,n){n.d(t,{EN:function(){return f},H2:function(){return L},J5:function(){return T},MP:function(){return Z},RM:function(){return E},Ty:function(){return w},cM:function(){return U},h2:function(){return m},hN:function(){return S},n2:function(){return R},rW:function(){return N},yk:function(){return g}});var r=n(15671),i=n(43144),o=n(97326),a=n(32531),s=n(82963),c=n(61120),l=n(4942),h=n(95844),u=n(13631),p=(n(64687),n(20917),n(96245),n(2043)),d=n.n(p),f={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},g={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},m=function(e,t){if(e===f.OTHER)return null;var n=t?"number"===typeof t?t:parseInt(t,16):function(e){if(e===f.EIP155)return 1;if(e===f.SOLANA)return 1;throw new Error("Chain namespace ".concat(e," is not supported"))}(e);return e===f.EIP155?function(e){var t=f.EIP155;return 1===e?{chainNamespace:t,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:3===e?{chainNamespace:t,chainId:"0x3",rpcTarget:"https://rpc.ankr.com/eth_ropsten",displayName:"Ropsten Testnet",blockExplorer:"https://ropsten.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:4===e?{chainNamespace:t,chainId:"0x4",rpcTarget:"https://rpc.ankr.com/eth_rinkeby",displayName:"Rinkeby Testnet",blockExplorer:"https://rinkeby.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:5===e?{chainNamespace:t,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:137===e?{chainNamespace:t,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:80001===e?{chainNamespace:t,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon"}:56===e?{chainNamespace:t,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain"}:97===e?{chainNamespace:t,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain"}:25===e?{chainNamespace:t,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:338===e?{chainNamespace:t,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:8217===e?{chainNamespace:t,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn"}:null}(n):e===f.SOLANA?function(e){var t=f.SOLANA;return 1===e?{chainNamespace:t,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana"}:2===e?{chainNamespace:t,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana"}:3===e?{chainNamespace:t,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana"}:null}(n):null};function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var y=function(e){(0,a.Z)(n,e);var t=v(n);function n(e,i){var a;return(0,r.Z)(this,n),a=t.call(this,i),(0,l.Z)((0,o.Z)(a),"code",void 0),(0,l.Z)((0,o.Z)(a),"message",void 0),a.code=e,a.message=i||"",Object.defineProperty((0,o.Z)(a),"name",{value:"Web3AuthError"}),a}return(0,i.Z)(n,[{key:"toJSON",value:function(){return{name:this.name,code:this.code,message:this.message}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),n}(u.s),w=function(e){(0,a.Z)(n,e);var t=v(n);function n(e,i){var a;return(0,r.Z)(this,n),a=t.call(this,e,i),Object.defineProperty((0,o.Z)(a),"name",{value:"WalletInitializationError"}),a}return(0,i.Z)(n,null,[{key:"fromCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new n(e,"".concat(n.messages[e],", ").concat(t))}},{key:"notFound",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5001,e)}},{key:"notInstalled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5002,e)}},{key:"notReady",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5003,e)}},{key:"windowBlocked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5004,e)}},{key:"windowClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5005,e)}},{key:"incompatibleChainNameSpace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5006,e)}},{key:"duplicateAdapterError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5007,e)}},{key:"invalidProviderConfigError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5008,e)}},{key:"providerNotReadyError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5009,e)}},{key:"rpcConnectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5010,e)}},{key:"invalidParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5011,e)}},{key:"invalidNetwork",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5013,e)}}]),n}(y);(0,l.Z)(w,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});var E=function(e){(0,a.Z)(n,e);var t=v(n);function n(e,i){var a;return(0,r.Z)(this,n),a=t.call(this,e,i),Object.defineProperty((0,o.Z)(a),"name",{value:"WalletLoginError"}),a}return(0,i.Z)(n,null,[{key:"fromCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new n(e,"".concat(n.messages[e]).concat(t))}},{key:"connectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5111,e)}},{key:"disconnectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5112,e)}},{key:"notConnectedError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5113,e)}},{key:"popupClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.fromCode(5114,e)}}]),n}(y);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,l.Z)(E,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user"});var O={OPENLOGIN:"openlogin",WALLET_CONNECT_V1:"wallet-connect-v1",WALLET_CONNECT_V2:"wallet-connect-v2"},P=k({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLLET:"sollet",SOLLET_EXTENSION:"sollet-extension",SOLFLARE:"solflare",SLOPE:"slope"},O),C=k({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},O),N=k(k({},C),P);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S={EXTERNAL:"external",IN_APP:"in_app"},Z={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},R=x(x({},Z),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated"}),T=function(e){(0,a.Z)(n,e);var t=_(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),(0,l.Z)((0,o.Z)(e),"adapterData",{}),(0,l.Z)((0,o.Z)(e),"sessionTime",86400),(0,l.Z)((0,o.Z)(e),"chainConfig",null),e}return(0,i.Z)(n,[{key:"chainConfigProxy",get:function(){return this.chainConfig?x({},this.chainConfig):null}},{key:"setChainConfig",value:function(e){if(this.status!==Z.READY){if(!e.chainNamespace)throw w.notReady("ChainNamespace is required while setting chainConfig");var t=m(e.chainNamespace,e.chainId);this.chainConfig=x(x({},t),e)}}},{key:"setAdapterSettings",value:function(e){}},{key:"checkConnectionRequirements",value:function(){if(this.name!==N.WALLET_CONNECT_V1||this.status!==Z.CONNECTING){if(this.status===Z.CONNECTING)throw w.notReady("Already connecting");if(this.status===Z.CONNECTED)throw E.connectionError("Already connected");if(this.status!==Z.READY)throw E.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function");if(!this.clientId)throw E.connectionError("Please initialize Web3Auth with a valid clientId in constructor")}}},{key:"checkInitializationRequirements",value:function(){if(this.status!==Z.NOT_READY){if(this.status===Z.CONNECTED)throw w.notReady("Already connected");if(this.status===Z.READY)throw w.notReady("Adapter is already initialized")}}},{key:"updateAdapterData",value:function(e){this.adapterData=e,this.emit(R.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}}]),n}(h.Ue),U=d().getLogger("web3auth-logger");var L=function(e){return("string"===typeof e||"number"===typeof e)&&/^(-)?0x[0-9a-f]*$/i.test(e)}}}]);