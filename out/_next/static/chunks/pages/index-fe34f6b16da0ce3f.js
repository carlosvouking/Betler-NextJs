(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(10238)}])},87564:function(e,t,s){"use strict";let a=s(37917),n=s(19936),i=s(68764);e.exports={contractAddresses:a,contractABI:n,networkExtraData:i}},10238:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(85893),n=s(9008),i=s.n(n),r=s(83078),c=s(67294);s(25675);var l=s(41942),o=s(87564),d=s(97005),u=s(11507),m=function(){let{chainId:e,isWeb3Enabled:t}=(0,r.Nr)(),s=parseInt(e),n=s in o.contractAddresses?o.contractAddresses[s][0]:null,[i,d]=(0,c.useState)("0"),[m,p]=(0,c.useState)("0"),[x,f]=(0,c.useState)("0"),[y,h]=(0,c.useState)([]),b=(0,l.aa)(),{runContractFunction:N,isLoading:j,isFetching:g}=(0,r.JX)({abi:o.contractABI,contractAddress:n,functionName:"enterLottery",params:{},msgValue:i}),{runContractFunction:w}=(0,r.JX)({abi:o.contractABI,contractAddress:n,functionName:"getParticipationFee",params:{}}),{runContractFunction:v}=(0,r.JX)({abi:o.contractABI,contractAddress:n,functionName:"getParticipants",params:{}}),{runContractFunction:S}=(0,r.JX)({abi:o.contractABI,contractAddress:n,functionName:"getNumberOfParticipants",params:{}}),{runContractFunction:A}=(0,r.JX)({abi:o.contractABI,contractAddress:n,functionName:"getRecentRandomWinner",params:{}});async function L(){let e=(await w()).toString(),t=(await S()).toString(),s=(await A()).toString(),a=(await v()).toString();d(e),p(t),f(s),h(a)}(0,c.useEffect)(()=>{t&&L()},[t]);let E=async e=>{await e.wait(1),C(e),L()},C=()=>{b({type:"success",message:"Successfully entered the Lottery",title:"Enter Lottery",position:"topR",icon:"bell"})};return(0,a.jsxs)("header",{className:"grid grid-cols-2 md:grid-cols-5 justify-between items-center p-5",children:[(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"text-yellow-500 text-lg font-bold text-center",children:"DECENTRALIZED RAPHL"}),(0,a.jsx)("span",{className:"text-stone-300 text-sm text-center",children:"Fair - Transparent - Secure"})]})}),(0,a.jsx)("div",{className:"hidden items-center justify-center md:col-span-3 md:flex",children:(0,a.jsx)("div",{className:"bg-[text-yellow-50] p-4 space-x-2",children:(0,a.jsx)("button",{className:"disabled mt-5 w-full bg-gradient-to-br from-yellow-300 to-stone-800 px-10 py-5 font-semibold rounded-md text-xl selection: text-white shadow-xl disabled:from-gray-500 disabled:to-gray-100 disabled:text-gray-100 disabled:cursor-not-allowed md:hidden",async onClick(){await N({onSuccess:E,onError:e=>console.log(e)})},disabled:j||g,children:j||g?(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(u.Z,{size:"30",color:"#ca8a04"})}):(0,a.jsx)("div",{children:"Enter Lot"})})})}),(0,a.jsxs)("div",{className:"flex flex-col ml-auto text-right",children:[(0,a.jsx)("div",{className:"ml-auto px-2",children:(0,a.jsx)(l.cg,{moralisAuth:!1})}),(0,a.jsx)("span",{className:""})]})]})},p=function(){let{enableWeb3:e,account:t,isWeb3Enabled:s,isWeb3EnableLoading:n}=(0,r.Nr)();return(0,a.jsx)("div",{className:"flex flex-col min-h-screen justify-center items-center text-center",children:(0,a.jsxs)("div",{className:"items-center mb-10",children:[(0,a.jsx)("h1",{className:"text-yellow-500 text-3xl font-bold",children:"DECENTRALIZED RAPHL"}),(0,a.jsx)("h2",{className:"text-white mb-5",children:"Please, Link a wallet account to participate"}),(0,a.jsx)("div",{className:"justify-center items-center w-full flex",children:(0,a.jsx)(l.cg,{moralisAuth:!1})})]})})},x=s(61646),f=s(96207),y=s(96350),h=function(){return(0,a.jsxs)("div",{className:"text-white text-center px-5 py-3 rounded-md border-stone-300/10 border flex-1",children:[(0,a.jsx)("h2",{className:"font-bold text-left",children:"Admin"}),(0,a.jsxs)("p",{className:"ml-4 mb-4 text-left text-sm italic",children:["Lottery Operator: ",(0,a.jsx)("span",{className:"text-stone-500",children:"0x00000"})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:space-y-0 md:space-x-2",children:[(0,a.jsxs)("button",{className:"admin-button",children:[(0,a.jsx)(x.Z,{className:"h-6 mx-auto mb-2"}),"Pick A Random Winner"]}),(0,a.jsxs)("button",{className:"admin-button",children:[(0,a.jsx)(f.Z,{className:"h-6 mx-auto mb-2"}),"Restart Lottery"]}),(0,a.jsxs)("button",{className:"admin-button",children:[(0,a.jsx)(y.Z,{className:"h-6 mx-auto mb-2"}),"Refund All Participants"]})]})]})},b=s(62542),N=function(){let[e,t]=(0,c.useState)("0"),{chainId:s,isWeb3Enabled:n}=(0,r.Nr)(),i=parseInt(s),m=i in o.contractAddresses?o.contractAddresses[i][0]:null,p=i in o.networkExtraData?o.networkExtraData[i][0]:null,[x,f]=(0,c.useState)("0"),[y,h]=(0,c.useState)("0"),[N,j]=(0,c.useState)("0"),[g,w]=(0,c.useState)([]);yarn;let v=(0,l.aa)(),{runContractFunction:S,isLoading:A,isFetching:L}=(0,r.JX)({abi:o.contractABI,contractAddress:m,functionName:"enterLottery",params:{},msgValue:x}),{runContractFunction:E}=(0,r.JX)({abi:o.contractABI,contractAddress:m,functionName:"getParticipationFee",params:{}}),{runContractFunction:C}=(0,r.JX)({abi:o.contractABI,contractAddress:m,functionName:"getParticipants",params:{}}),{runContractFunction:P}=(0,r.JX)({abi:o.contractABI,contractAddress:m,functionName:"getNumberOfParticipants",params:{}}),{runContractFunction:F}=(0,r.JX)({abi:o.contractABI,contractAddress:m,functionName:"getRecentRandomWinner",params:{}});async function k(){let e=(await E()).toString(),t=(await P()).toString(),s=(await F()).toString(),a=(await C()).toString();f(e),h(t),j(s),w(a)}(0,c.useEffect)(()=>{n&&k()},[n,k]);let R=async e=>{await e.wait(1),I(e),k()},I=()=>{v({type:"success",message:"Successfully entered the Lottery",title:"Enter Lottery",position:"bottomL"})};return(0,a.jsxs)("div",{className:"raffleStats-wrapper flex flex-col",children:[(0,a.jsxs)("h2",{className:"text-white text-left text-sm italic",children:["Current Network: ",(0,a.jsx)("span",{className:"text-amber-200 text-sm",children:p})]}),(0,a.jsx)("div",{className:"raffleStats-wrapper space-y-2 ",children:(0,a.jsxs)("div",{className:"raffleStats-wrapper",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-white pb-2",children:[(0,a.jsx)("h2",{className:"text-center",children:"Participation"}),(0,a.jsx)("p",{className:""})]}),(0,a.jsxs)("div",{className:"flex text-white items-center space-x-2 bg-[#22220f] border-[#2d3533] border p-3",children:[(0,a.jsx)("p",{children:"Entries"}),(0,a.jsx)("input",{type:"number",className:"flex w-full bg-transparent text-right outline-none",min:1,max:2,value:e,onChange:e=>t(Number(e.target.value))})]}),(0,a.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-gray-400 text-sm italic font-extrabold",children:[(0,a.jsx)("p",{children:"Total participation Price"}),(0,a.jsxs)("p",{children:[b.bM(x)," ETH"]})]}),m?(0,a.jsxs)("div",{className:"flex items-center justify-between text-gray-400 text-xs italic",children:[(0,a.jsx)("p",{className:"ml-3",children:"Service fees"}),(0,a.jsxs)("p",{children:[b.bM(x)," ETH"]})]}):(0,a.jsx)("div",{children:(0,a.jsx)(d.Z,{className:"bg-[#292919]",gradient:!1,speed:40,children:(0,a.jsx)("p",{className:"ml-3 text-amber-700 text-sm italic text-center font-bold",children:"No Lottery Address detected - network not supported"})})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-gray-400 text-xs italic",children:[(0,a.jsxs)("p",{className:"ml-3",children:["+ Network("," ",(0,a.jsx)("span",{className:"text-amber-200 text-sm",children:p})," ) - Gas Fees"]}),(0,a.jsx)("p",{children:" ETH"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-gray-400 text-xs italic",children:[(0,a.jsx)("p",{className:"ml-3",children:"+ Miscellaneous"}),(0,a.jsx)("p",{children:" ETH"})]})]}),(0,a.jsx)("button",{className:"disabled mt-5 w-full bg-gradient-to-br from-yellow-300 to-stone-800 px-10 py-4 font-semibold rounded-md text-xl selection: text-white shadow-xl disabled:from-gray-500 disabled:to-gray-100 disabled:text-gray-100 disabled:cursor-not-allowed ",async onClick(){await S({onSuccess:R,onError:e=>console.log(e)})},disabled:A||L,children:A||L?(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(u.Z,{size:"30",color:"#ca8a04"})}):(0,a.jsx)("div",{children:"Enter Lottery"})})]})}),(0,a.jsxs)("div",{className:"raffleStats-wrapper border mt-5",children:[(0,a.jsxs)("div",{className:"flex justify-between p-2 space-x-2",children:[(0,a.jsxs)("div",{className:"raffleStats",children:[(0,a.jsx)("h2",{className:"text-sm",children:"Currently Paricipating"}),(0,a.jsx)("p",{className:"text-xl",children:y})]}),(0,a.jsx)("div",{className:"raffleStats",children:(0,a.jsx)("h2",{className:"text-sm",children:"Remaining "})})]}),(0,a.jsx)("div",{className:"flex justify-between p-2 space-x-2",children:(0,a.jsxs)("div",{className:"raffleStats",children:[(0,a.jsx)("h2",{className:"text-sm",children:"Particpants Accounts"}),(0,a.jsx)("p",{className:"text-sm",children:g})]})}),(0,a.jsx)("h1",{className:"text-3xl text-yellow-200 font-semibold text-center",children:"Next Pick"}),(0,a.jsx)("div",{className:"flex justify-between p-2 space-x-2",children:(0,a.jsxs)("div",{className:"raffleStats",children:[(0,a.jsx)("h2",{className:"text-sm",children:"Recent Winner"}),(0,a.jsx)("div",{className:"text-sm",children:N})]})})]})]})};let j=()=>{let{enableWeb3:e,account:t,isWeb3Enabled:s,isWeb3EnableLoading:n}=(0,r.Nr)(),[l,o]=(0,c.useState)(1);return(0,a.jsxs)("div",{className:"bg-[#1a1a0c] min-h-screen flex flex-col",children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Decentralized Raphl"})}),(0,a.jsx)("div",{className:"flex-1",children:t?(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{}),(0,a.jsx)("div",{className:"flex justify-center mt-5 mb-5 ml-20 mr-20",children:(0,a.jsx)(h,{})}),(0,a.jsx)("div",{className:"space-y-5 md:space-y-0 m-5 md:flex md:flex-row items-start justify-center md:space-x-5 md:ml-20 md:mr-20",children:(0,a.jsx)(N,{})})]}):(0,a.jsx)(p,{})})]})};var g=j},19936:function(e){"use strict";e.exports=JSON.parse('[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"vrfCoordinatorV2"},{"type":"uint256","name":"participationFee"},{"type":"bytes32","name":"gasLane"},{"type":"uint64","name":"subscriptionId"},{"type":"uint32","name":"callbackGasLimit"},{"type":"uint256","name":"interval"}]},{"type":"error","name":"Lottery__CheckUpkeepFailed","inputs":[{"type":"uint256","name":"currentLotteryState"},{"type":"uint256","name":"numberParticipants"},{"type":"uint256","name":"currentBalance"}]},{"type":"error","name":"Lottery__InsufficientParticipationFees","inputs":[]},{"type":"error","name":"Lottery__LotteryNotOpen","inputs":[]},{"type":"error","name":"Lottery__TrasnferFundsToWinnerFailed","inputs":[]},{"type":"error","name":"OnlyCoordinatorCanFulfill","inputs":[{"type":"address","name":"have"},{"type":"address","name":"want"}]},{"type":"event","anonymous":false,"name":"LotteryEnter","inputs":[{"type":"address","name":"player","indexed":true}]},{"type":"event","anonymous":false,"name":"RandomWinnerPicked","inputs":[{"type":"address","name":"winnerPicked","indexed":true}]},{"type":"event","anonymous":false,"name":"RequestedLotteryWinner","inputs":[{"type":"uint256","name":"requestId","indexed":true}]},{"type":"function","name":"checkUpkeep","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[{"type":"bool","name":"upkeepNeeded"},{"type":"bytes"}]},{"type":"function","name":"enterLottery","constant":false,"stateMutability":"payable","payable":true,"gas":29000000,"inputs":[],"outputs":[]},{"type":"function","name":"getInterval","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getLatestTimeStamp","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getLotteryState","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint8"}]},{"type":"function","name":"getNumberOfParticipants","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getNumberOfWords","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getParticipant","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"index"}],"outputs":[{"type":"address"}]},{"type":"function","name":"getParticipants","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"address[]"}]},{"type":"function","name":"getParticipationFee","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getRecentRandomWinner","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"getRequestConfirmations","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"performUpkeep","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[]},{"type":"function","name":"rawFulfillRandomWords","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"requestId"},{"type":"uint256[]","name":"randomWords"}],"outputs":[]},{"type":"function","name":"requestRandomWinner","constant":false,"payable":false,"gas":29000000,"inputs":[],"outputs":[]}]')},37917:function(e){"use strict";e.exports=JSON.parse('{"31337":["0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9"]}')},68764:function(e){"use strict";e.exports=JSON.parse('{"31337":["hardhat"]}')}},function(e){e.O(0,[872,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);