"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{84751:function(e,t,r){r.r(t),r.d(t,{OpenloginAdapter:function(){return et},getOpenloginDefaultOptions:function(){return $}});var n=r(2043),i=r.n(n),o=r(4942),a=r(2450),s=r(20917),c=r(95844),l=r(15048),h=r(72378),u=r.n(h),p=r(74286),d=r.n(p),f=r(48764).Buffer;let g="openlogin-modal",m="openlogin_store",v={POPUP:"popup",REDIRECT:"redirect"},y={LOGIN:"openlogin_login",LOGOUT:"openlogin_logout",CHECK_3PC_SUPPORT:"openlogin_check_3PC_support",SET_PID_DATA:"openlogin_set_pid_data",GET_DATA:"openlogin_get_data"},w={POPUP:"popup",REDIRECT:"redirect",JRPC:"jrpc"},E={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",DEVELOPMENT:"development"},P={SECP256K1:"secp256k1",ED25519:"ed25519"};i().setLevel("error");var O=i().getLogger("openlogin");async function b(){return new Promise(e=>{"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",()=>{e()})})}let k=e=>{let t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};function C(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={},r=new URL(window.location.href);r.searchParams.forEach((e,r)=>{"result"!==r&&(t[r]=e)});let n=r.searchParams.get("result");if(n)try{let i=JSON.parse((0,l.sX)(n));Object.keys(i).forEach(e=>{t[e]=i[e]})}catch(o){O.error(o)}let a=r.hash.substring(1),s=new URL("".concat(window.location.origin,"/?").concat(a));s.searchParams.forEach((e,r)=>{"result"!==r&&(t[r]=e)});let c=s.searchParams.get("result");if(c)try{let h=JSON.parse((0,l.sX)(c));Object.keys(h).forEach(e=>{t[e]=h[e]})}catch(u){O.error(u)}if(e){let p=window.location.origin+window.location.pathname;window.history.replaceState(null,"",p)}return t}function N(e,t){return new Promise((r,n)=>{if(!t){n(Error("Unable to open window"));return}let i=!1,o=setInterval(()=>{!i&&t.closed&&(clearInterval(o),n(Error("user closed popup")))},500),a=s=>{let{pid:c}=s.data;e===c&&(window.removeEventListener("message",a),i=!0,clearInterval(o),t.close(),s.data.data&&s.data.data.error?n(Error(s.data.data.error)):r(s.data.data))};window.addEventListener("message",a)})}function _(e){let{baseURL:t,query:r,hash:n}=e,i=new URL(t);if(r&&Object.keys(r).forEach(e=>{i.searchParams.append(e,r[e])}),n){let o=new URL(_({baseURL:t,query:n})).searchParams.toString();i.hash=o}return i.toString()}function I(e){let t,r=!1,n=0;try{t=window[e],r=!0,n=t.length;let i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(o){return o&&(22===o.code||1014===o.code||"QuotaExceededErro r"===o.name||"NS_ERROR_DOM_QUOTA_REACHED"===o.name)&&r&&0!==n}}let x=I("sessionStorage"),T=I("localStorage");function S(){let e=void 0!==window.screenLeft?window.screenLeft:window.screenX,t=void 0!==window.screenTop?window.screenTop:window.screenY,r=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,i="titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(700,",width=").concat(1200,",top=").concat(Math.abs((n-700)/2/1+t),",left=").concat(Math.abs((r-1200)/2/1+e));return i}let R=(e,t,r)=>{let n=i=>{r(i),e.removeListener(t,n)};e.on(t,n)};class Z{constructor(e){(0,o.Z)(this,"modalUrl",void 0),(0,o.Z)(this,"iframeElem",void 0),(0,o.Z)(this,"initialized",!1),(0,o.Z)(this,"modalZIndex",99999),(0,o.Z)(this,"mux",void 0),(0,o.Z)(this,"verifierStream",void 0),this.modalUrl=e}async init(){await this.initIFrame(this.modalUrl),this.setupStream()}setupStream(){if(null===this.iframeElem)throw Error("iframe is null");this.mux=(0,c.V2)(new c.zc({name:"modal_iframe_rpc",target:"modal_rpc",targetWindow:this.iframeElem.contentWindow,targetOrigin:new URL(this.modalUrl).origin})),this.verifierStream=this.mux.createStream("verifier")}async initIFrame(e){await b();let t=document.getElementById(g);return t&&(t.remove(),O.info("already initialized, removing previous modal iframe")),this.iframeElem=k("<iframe\n        id=".concat(g,'\n        class="torusIframe"\n        src="').concat(e,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'"\n      ></iframe>')),this._hideModal(),document.body.appendChild(this.iframeElem),new Promise(e=>{this.iframeElem.onload=()=>{this.initialized=!0,e()}})}_showModal(){let e={};e.display="block",e.position="fixed",e.width="100%",e.height="100%",e.top="0px",e.right="0px",e.left="0px",e.bottom="0px",e.border="0",e["z-index"]=this.modalZIndex,this.iframeElem.setAttribute("style",Object.entries(e).map(e=>{let[t,r]=e;return"".concat(t,":").concat(r)}).join(";"))}_hideModal(){let e={};e.display="none",e.position="fixed",e.width="100%",e.height="100%",e.top="0px",e.right="0px",e.left="0px",e.bottom="0px",e.border="0",e["z-index"]=this.modalZIndex,this.iframeElem.setAttribute("style",Object.entries(e).map(e=>{let[t,r]=e;return"".concat(t,":").concat(r)}).join(";"))}async _prompt(e,t,r,n){this._showModal();let i=e=>{this._hideModal(),n(e)};R(this.verifierStream,"data",i),this.verifierStream.write({name:"prompt",clientId:e,whiteLabel:t,loginConfig:r})}async cleanup(){await b();let e=document.getElementById(g);e&&(e.remove(),this.iframeElem=null),this.initialized=!1}}class D{constructor(){(0,o.Z)(this,"store",{})}getItem(e){return this.store[e]||null}setItem(e,t){this.store[e]=t}}class U{constructor(e,t){(0,o.Z)(this,"_storeKey",m),(0,o.Z)(this,"storage",void 0),this.storage=e,this._storeKey=t||m;try{e.getItem(t||m)||this.resetStore()}catch(r){}}static getInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"local";if(!this.instance){let r=new D;"local"===t&&T&&(r=localStorage),"session"===t&&x&&(r=sessionStorage);let n=e?"".concat(m,"_").concat(e):m;this.instance=new this(r,n)}return this.instance}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){let e=this.getStore();return this.storage.setItem(this._storeKey,JSON.stringify({})),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey))}get(e){let t=JSON.parse(this.storage.getItem(this._storeKey));return t[e]}set(e,t){let r=JSON.parse(this.storage.getItem(this._storeKey));r[e]=t,this.storage.setItem(this._storeKey,JSON.stringify(r))}}(0,o.Z)(U,"instance",void 0);class A extends c.Ue{constructor(){super(...arguments),(0,o.Z)(this,"iframeElem",null),(0,o.Z)(this,"rpcStream",void 0),(0,o.Z)(this,"iframeUrl",void 0),(0,o.Z)(this,"rpcEngine",void 0),(0,o.Z)(this,"initialized",void 0),(0,o.Z)(this,"mux",void 0)}init(e){let{iframeElem:t,iframeUrl:r}=e;this.iframeElem=t,this.iframeUrl=r,this.setupStream(),this.initialized=!0}setupStream(){if(null===this.iframeElem)throw Error("iframe is null");this.rpcStream=new c.zc({name:"embed_rpc",target:"iframe_rpc",targetWindow:this.iframeElem.contentWindow,targetOrigin:new URL(this.iframeUrl).origin}),this.mux=(0,c.V2)(this.rpcStream);let e=(0,c.AP)();d()(e.stream,this.mux.createStream("jrpc"),e.stream,e=>{O.error("JRPC connection broken",e)});let t=new c.eI;t.push((0,c.Rq)()),t.push(e.middleware),this.rpcEngine=t}cleanup(){this.iframeElem=null,this.initialized=!1}_rpcRequest(e,t){e.jsonrpc||(e.jsonrpc="2.0"),e.id||(e.id=(0,l.kb)()),this.rpcEngine.handle(e,t)}}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}!function(e){try{if("undefined"==typeof document)return;let t=document.createElement("link");t.href=e,t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t)}catch(r){O.error(r)}}("https://app.openlogin.com/sdk-modal");class M{constructor(e){var t,r,n,i,a,s,c,l,h,u,p;if((0,o.Z)(this,"provider",void 0),(0,o.Z)(this,"state",void 0),(0,o.Z)(this,"modal",void 0),this.provider=new Proxy(new A,{deleteProperty:()=>!0}),e._iframeUrl||(e.network===E.MAINNET?e._iframeUrl="https://app.openlogin.com":e.network===E.CYAN?e._iframeUrl="https://cyan.openlogin.com":e.network===E.TESTNET?e._iframeUrl="https://beta.openlogin.com":e.network!==E.DEVELOPMENT||(e._iframeUrl="http://localhost:3000")),!e._iframeUrl)throw Error("unspecified network and iframeUrl");this.modal=new Z("".concat(e._iframeUrl,"/sdk-modal")),this.initState(j(j({},e),{},{no3PC:null!==(t=e.no3PC)&&void 0!==t&&t,_iframeUrl:e._iframeUrl,_startUrl:null!==(r=e._startUrl)&&void 0!==r?r:"".concat(e._iframeUrl,"/start"),_popupUrl:null!==(n=e._popupUrl)&&void 0!==n?n:"".concat(e._iframeUrl,"/popup-window"),redirectUrl:null!==(i=e.redirectUrl)&&void 0!==i?i:"".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname),uxMode:null!==(a=e.uxMode)&&void 0!==a?a:v.REDIRECT,replaceUrlOnRedirect:null===(s=e.replaceUrlOnRedirect)||void 0===s||s,originData:null!==(c=e.originData)&&void 0!==c?c:{[window.location.origin]:""},whiteLabel:null!==(l=e.whiteLabel)&&void 0!==l?l:{},loginConfig:null!==(h=e.loginConfig)&&void 0!==h?h:{},_storageServerUrl:null!==(u=e._storageServerUrl)&&void 0!==u?u:"https://broadcast-server.tor.us",storageKey:"session"===e.storageKey?"session":"local",_sessionNamespace:null!==(p=e._sessionNamespace)&&void 0!==p?p:""}))}get privKey(){return this.state.privKey?this.state.privKey.padStart(64,"0"):""}initState(e){this.state={uxMode:e.uxMode,network:e.network,store:U.getInstance(e._sessionNamespace,e.storageKey),iframeUrl:e._iframeUrl,startUrl:e._startUrl,popupUrl:e._popupUrl,clientId:e.clientId,redirectUrl:e.redirectUrl,replaceUrlOnRedirect:e.replaceUrlOnRedirect,originData:e.originData,loginConfig:e.loginConfig,support3PC:!e.no3PC,whiteLabel:e.whiteLabel,storageServerUrl:e._storageServerUrl,sessionNamespace:e._sessionNamespace}}async init(){this.state.network===E.TESTNET&&console.log("%c WARNING! You are on testnet. Please set network: 'mainnet' in production","color: #FF0000"),await Promise.all([this.modal.init(),this.updateOriginData()]),this.provider.init({iframeElem:this.modal.iframeElem,iframeUrl:this.state.iframeUrl});let e=C(this.state.replaceUrlOnRedirect);if(e.sessionId&&this.state.store.set("sessionId",e.sessionId),this._syncState(await this._getData()),this.state.support3PC){let t=await this._check3PCSupport();this.state.support3PC=!!t.support3PC}}async updateOriginData(){let e=JSON.parse(JSON.stringify(this.state.originData));Object.keys(e).forEach(t=>{""===e[t]&&delete e[t]});let[t,r]=await Promise.all([this.getWhitelist(),this.getWhiteLabel()]);this._syncState({originData:j(j({},t),e),whiteLabel:j(j({},r),this.state.whiteLabel)})}async getWhitelist(){try{let{clientId:e}=this.state;if(!e)throw Error("unspecified clientId");let t=new URL("https://api.developer.tor.us/whitelist");t.searchParams.append("project_id",this.state.clientId);let r=await (0,s.U2)(t.href);return r.signed_urls}catch(n){return{}}}async getWhiteLabel(){try{let{clientId:e}=this.state;if(!e)throw Error("unspecified clientId");let t=new URL("https://api.developer.tor.us/whitelabel");t.searchParams.append("project_id",this.state.clientId);let r=await (0,s.U2)(t.href);return r.whiteLabel}catch(n){return{}}}async login(e){return null!=e&&e.loginProvider?this._selectedLogin(e):this._modal(e)}async _selectedLogin(e){let t={redirectUrl:this.state.redirectUrl},r=j(j({loginProvider:e.loginProvider},t),e),n=await this.request({method:y.LOGIN,allowedInteractions:[v.REDIRECT,v.POPUP],startUrl:this.state.startUrl,popupUrl:this.state.popupUrl,params:[r]});return this.state.privKey=n.privKey,n.store?this._syncState(n):this.state.privKey&&this.state.support3PC&&this._syncState(await this._getData()),{privKey:this.privKey}}async logout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};t.redirectUrl=this.state.redirectUrl,t._clientId=this.state.clientId,t.sessionId=this.state.store.get("sessionId"),e.clientId&&(t._clientId=e.clientId),void 0!==e.redirectUrl&&(t.redirectUrl=e.redirectUrl);let r=await this.request({method:y.LOGOUT,params:[t],startUrl:this.state.startUrl,popupUrl:this.state.popupUrl,allowedInteractions:[w.JRPC]});return this.state.privKey="",r}async request(e){var t;let r=(0,l.kb)(),{params:n}=e,i={};if(1!==n.length)throw Error("request params array should have only one element");let{startUrl:o,popupUrl:s,method:c,allowedInteractions:h}=e;if(0===h.length)throw Error("no allowed interactions");if(this.state.clientId&&(i._clientId=this.state.clientId),this.state.sessionNamespace&&(i._sessionNamespace=this.state.sessionNamespace),this.privKey){let u={clientId:i._clientId,timestamp:Date.now().toString()},p=await (0,a.Xx)(f.from(this.privKey,"hex"),f.from((0,l.KO)("keccak256").update(JSON.stringify(u)).digest("hex"),"hex"));i._user=(0,a.rc)(f.from(this.privKey,"hex")).toString("hex"),i._userSig=l.tH.encode(p),i._userData=u}if(i._originData=this.state.originData,i._whiteLabelData=this.state.whiteLabel,i._loginConfig=this.state.loginConfig,i._sessionId=this.state.store.get("sessionId"),!i._sessionId){let d=(0,l.kb)();i._sessionId=d,this.state.store.set("sessionId",d)}if(n=[j(j({},i),n[0])],h.includes(w.JRPC))return this._jrpcRequest({method:c,params:n});if(n[0]._origin=new URL(null!==(t=n[0].redirectUrl)&&void 0!==t?t:this.state.redirectUrl).origin,this.state.support3PC&&(await this._setPIDData(r,n),n=[{}]),!o||!s)throw Error("no url for redirect / popup flow");if(this.state.uxMode===v.REDIRECT){if(h.includes(w.REDIRECT))return setTimeout(()=>{window.location.href=_({baseURL:o,hash:{b64Params:(0,l.zc)(n[0]),_pid:r,_method:c}})},50),{};if(h.includes(w.POPUP)){let g=new URL(_({baseURL:s,hash:{b64Params:(0,l.zc)(n[0]),_pid:r,_method:c}})),m=window.open(g.toString(),"_blank",S());return N(r,m)}}else{if(h.includes(w.POPUP)){let y=new URL(_({baseURL:s,hash:{b64Params:(0,l.zc)(n[0]),_pid:r,_method:c}})),E=window.open(y.toString(),"_blank",S());return N(r,E)}if(h.includes(w.REDIRECT))return setTimeout(()=>{window.location.href=_({baseURL:o,hash:{b64Params:(0,l.zc)(n[0]),_pid:r,_method:c}})},50),null}throw Error("no matching allowed interactions")}async _jrpcRequest(e){if(!e||"object"!=typeof e||Array.isArray(e))throw Error("invalid request args");let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw Error("invalid request method");if(void 0===r||!Array.isArray(r))throw Error("invalid request params");return 0===r.length&&r.push({}),new Promise((e,n)=>{this.provider._rpcRequest({method:t,params:r},(0,c.nE)(e,n))})}async _check3PCSupport(){return this._jrpcRequest({method:y.CHECK_3PC_SUPPORT,params:[{_originData:this.state.originData}]})}async _setPIDData(e,t){await this.request({allowedInteractions:[w.JRPC],method:y.SET_PID_DATA,params:[{pid:e,data:t[0]}]})}async _getData(){return this.request({allowedInteractions:[w.JRPC],method:y.GET_DATA,params:[{}]})}_syncState(e){if(e.store){if("object"!=typeof e.store)throw Error("expected store to be an object");Object.keys(e.store).forEach(t=>{this.state.store.set(t,e.store[t])})}let{store:t}=this.state;this.state=j(j(j({},this.state),e),{},{store:t})}async _modal(e){return new Promise((t,r)=>{this.modal._prompt(this.state.clientId,this.state.whiteLabel,this.state.loginConfig,async n=>{if(n.cancel)r(Error("user canceled login"));else try{let i=await this._selectedLogin(u()(e,n));t(i)}catch(o){r(o)}})})}async _cleanup(){await this.modal.cleanup(),this.provider.cleanup()}async encrypt(e,t){let r=t;if(r||(r=this.privKey),!/^[0-9a-fA-f]{64}$/.exec(r)){if(""===r||void 0===r)throw Error("private key cannot be empty");throw Error("invalid private key in encrypt")}return(0,a.HI)((0,a.rc)(f.from(r,"hex")),e)}async decrypt(e,t){let r=t;if(r||(r=this.privKey),!/^[0-9a-fA-f]{64}$/.exec(r)){if(""===r||void 0===r)throw Error("private key cannot be empty");throw Error("invalid private key in decrypt")}return(0,a.pe)(f.from(r,"hex"),e)}async getUserInfo(){if(this.privKey){let e=this.state.store.getStore(),t={email:e.email||"",name:e.name||"",profileImage:e.profileImage||"",aggregateVerifier:e.aggregateVerifier||"",verifier:e.verifier||"",verifierId:e.verifierId||"",typeOfLogin:e.typeOfLogin||"",dappShare:e.dappShare||"",idToken:e.idToken||"",oAuthIdToken:e.oAuthIdToken||"",oAuthAccessToken:e.oAuthAccessToken||""};return t}throw Error("user should be logged in to fetch userInfo")}async getEncodedLoginUrl(e){let{redirectUrl:t}=e,{clientId:r}=this.state;this.state.originData[origin]||await this.updateOriginData();let n=j({_clientId:r,_origin:new URL(t).origin,_originData:this.state.originData,redirectUrl:t},e),i=(0,l.zc)(n);return _({baseURL:"".concat(this.state.iframeUrl,"/start"),hash:{b64Params:i,_method:"openlogin_login"}})}}var K=r(16843),W=r(15861),q=r(15671),z=r(43144),H=r(97326),J=r(73237),B=r(32531),Y=r(82963),G=r(61120),F=r(64687),V=r.n(F),X=r(68531),$=function(e,t){return{adapterSettings:{network:E.MAINNET,clientId:"",uxMode:v.POPUP},chainConfig:e?(0,K.h2)(e,t):null,loginSettings:{}}};function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var et=function(e){(0,B.Z)(p,e);var t,n,i,a,s,c,l,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,G.Z)(p);if(t){var n=(0,G.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,Y.Z)(this,e)});function p(e){(0,q.Z)(this,p),s=h.call(this),(0,o.Z)((0,H.Z)(s),"name",K.rW.OPENLOGIN),(0,o.Z)((0,H.Z)(s),"adapterNamespace",K.yk.MULTICHAIN),(0,o.Z)((0,H.Z)(s),"type",K.hN.IN_APP),(0,o.Z)((0,H.Z)(s),"openloginInstance",null),(0,o.Z)((0,H.Z)(s),"clientId",void 0),(0,o.Z)((0,H.Z)(s),"status",K.MP.NOT_READY),(0,o.Z)((0,H.Z)(s),"currentChainNamespace",K.EN.EIP155),(0,o.Z)((0,H.Z)(s),"openloginOptions",void 0),(0,o.Z)((0,H.Z)(s),"loginSettings",{}),(0,o.Z)((0,H.Z)(s),"privKeyProvider",null),K.cM.debug("const openlogin adapter",e);var t=$(null===(r=e.chainConfig)||void 0===r?void 0:r.chainNamespace,null===(n=e.chainConfig)||void 0===n?void 0:n.chainId);if(s.openloginOptions=ee(ee({clientId:"",network:E.MAINNET},t.adapterSettings),e.adapterSettings||{}),s.clientId=null===(i=e.adapterSettings)||void 0===i?void 0:i.clientId,s.loginSettings=ee(ee({},t.loginSettings),e.loginSettings),s.sessionTime=s.loginSettings.sessionTime||86400,null!==(a=e.chainConfig)&&void 0!==a&&a.chainNamespace){s.currentChainNamespace=null===(c=e.chainConfig)||void 0===c?void 0:c.chainNamespace;var r,n,i,a,s,c,l=t.chainConfig?t.chainConfig:{};if(s.chainConfig=ee(ee({},l),null==e?void 0:e.chainConfig),K.cM.debug("const openlogin chainConfig",s.chainConfig),!s.chainConfig.rpcTarget&&e.chainConfig.chainNamespace!==K.EN.OTHER)throw K.Ty.invalidParams("rpcTarget is required in chainConfig")}return s}return(0,z.Z)(p,[{key:"chainConfigProxy",get:function(){return this.chainConfig?ee({},this.chainConfig):null}},{key:"provider",get:function(){var e;return(null===(e=this.privKeyProvider)||void 0===e?void 0:e.provider)||null},set:function(e){throw Error("Not implemented")}},{key:"init",value:(n=(0,W.Z)(V().mark(function e(t){var r,n,i;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,J.Z)((0,G.Z)(p.prototype),"checkInitializationRequirements",this).call(this),null!==(r=this.openloginOptions)&&void 0!==r&&r.clientId){e.next=3;break}throw K.Ty.invalidParams("clientId is required before openlogin's initialization");case 3:if(this.chainConfig){e.next=5;break}throw K.Ty.invalidParams("chainConfig is required before initialization");case 5:return n=!1,this.openloginOptions.uxMode===v.REDIRECT&&Object.keys(i=C()).length>0&&i._pid&&(n=!0),this.openloginOptions=ee(ee({},this.openloginOptions),{},{replaceUrlOnRedirect:n}),this.openloginInstance=new M(this.openloginOptions),K.cM.debug("initializing openlogin adapter init"),e.next=12,this.openloginInstance.init();case 12:if(this.status=K.MP.READY,this.emit(K.n2.READY,K.rW.OPENLOGIN),e.prev=14,K.cM.debug("initializing openlogin adapter"),!(this.openloginInstance.privKey&&(t.autoConnect||n))){e.next=19;break}return e.next=19,this.connect();case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(14),K.cM.error("Failed to connect with cached openlogin provider",e.t0),this.emit("ERRORED",e.t0);case 25:case"end":return e.stop()}},e,this,[[14,21]])})),function(e){return n.apply(this,arguments)})},{key:"connect",value:(i=(0,W.Z)(V().mark(function e(t){return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,J.Z)((0,G.Z)(p.prototype),"checkConnectionRequirements",this).call(this),this.status=K.MP.CONNECTING,this.emit(K.n2.CONNECTING,ee(ee({},t),{},{adapter:K.rW.OPENLOGIN})),e.prev=3,e.next=6,this.connectWithProvider(t);case 6:return e.abrupt("return",this.provider);case 9:if(e.prev=9,e.t0=e.catch(3),K.cM.error("Failed to connect with openlogin provider",e.t0),this.status=K.MP.READY,this.emit(K.n2.ERRORED,e.t0),!(null!==e.t0&&void 0!==e.t0&&e.t0.message.includes("user closed popup"))){e.next=16;break}throw K.RM.popupClosed();case 16:throw K.RM.connectionError("Failed to login with openlogin");case 17:case"end":return e.stop()}},e,this,[[3,9]])})),function(e){return i.apply(this,arguments)})},{key:"disconnect",value:(a=(0,W.Z)(V().mark(function e(){var t,r=arguments;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{cleanup:!1},!(this.status!==K.MP.CONNECTED)){e.next=3;break}throw K.RM.notConnectedError("Not connected with wallet");case 3:if(this.openloginInstance){e.next=5;break}throw K.Ty.notReady("openloginInstance is not ready");case 5:return e.next=7,this.openloginInstance.logout();case 7:t.cleanup?(this.status=K.MP.NOT_READY,this.openloginInstance=null,this.privKeyProvider=null):this.status=K.MP.READY,this.emit(K.n2.DISCONNECTED);case 9:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"authenticateUser",value:(s=(0,W.Z)(V().mark(function e(){var t;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.status!==K.MP.CONNECTED)){e.next=2;break}throw K.RM.notConnectedError("Not connected with wallet, Please login/connect first");case 2:return e.next=4,this.getUserInfo();case 4:return t=e.sent,e.abrupt("return",{idToken:t.idToken});case 6:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"getUserInfo",value:(c=(0,W.Z)(V().mark(function e(){var t;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.status!==K.MP.CONNECTED)){e.next=2;break}throw K.RM.notConnectedError("Not connected with wallet");case 2:if(this.openloginInstance){e.next=4;break}throw K.Ty.notReady("openloginInstance is not ready");case 4:return e.next=6,this.openloginInstance.getUserInfo();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"setAdapterSettings",value:function(e){if(this.status!==K.MP.READY){var t=$();this.openloginOptions=ee(ee(ee({},t.adapterSettings),this.openloginOptions||{}),e),e.sessionTime&&(this.loginSettings=ee(ee({},this.loginSettings),{},{sessionTime:e.sessionTime})),e.clientId&&(this.clientId=e.clientId)}}},{key:"setChainConfig",value:function(e){(0,J.Z)((0,G.Z)(p.prototype),"setChainConfig",this).call(this,e),this.currentChainNamespace=e.chainNamespace}},{key:"connectWithProvider",value:(l=(0,W.Z)(V().mark(function e(t){var n,i,o,a;return V().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.chainConfig){e.next=2;break}throw K.Ty.invalidParams("chainConfig is required before initialization");case 2:if(this.openloginInstance){e.next=4;break}throw K.Ty.notReady("openloginInstance is not ready");case 4:if(this.currentChainNamespace!==K.EN.SOLANA){e.next=12;break}return e.next=7,Promise.all([r.e(282),r.e(108),r.e(576),r.e(877),r.e(361)]).then(r.bind(r,54877));case 7:n=e.sent.SolanaPrivateKeyProvider,this.privKeyProvider=new n({config:{chainConfig:this.chainConfig}}),e.next=25;break;case 12:if(this.currentChainNamespace!==K.EN.EIP155){e.next=20;break}return e.next=15,Promise.all([r.e(482),r.e(763),r.e(961),r.e(26)]).then(r.bind(r,10961));case 15:i=e.sent.EthereumPrivateKeyProvider,this.privKeyProvider=new i({config:{chainConfig:this.chainConfig}}),e.next=25;break;case 20:if(this.currentChainNamespace!==K.EN.OTHER){e.next=24;break}this.privKeyProvider=new X.FL,e.next=25;break;case 24:throw Error("Invalid chainNamespace: ".concat(this.currentChainNamespace," found while connecting to wallet"));case 25:if(!(!this.openloginInstance.privKey&&t)){e.next=29;break}return this.loginSettings.curve||(this.loginSettings.curve=this.currentChainNamespace===K.EN.SOLANA?P.ED25519:P.SECP256K1),e.next=29,this.openloginInstance.login(u()(this.loginSettings,{loginProvider:t.loginProvider},{extraLoginOptions:ee(ee({},t.extraLoginOptions||{}),{},{login_hint:t.login_hint||(null===(o=t.extraLoginOptions)||void 0===o?void 0:o.login_hint)})}));case 29:if(!(a=this.openloginInstance.privKey)){e.next=41;break}if(this.currentChainNamespace!==K.EN.SOLANA){e.next=37;break}return e.next=34,Promise.all([r.e(108),r.e(418)]).then(r.bind(r,33946));case 34:a=(0,e.sent.getED25519Key)(a).sk.toString("hex");case 37:return e.next=39,this.privKeyProvider.setupProvider(a);case 39:this.status=K.MP.CONNECTED,this.emit(K.n2.CONNECTED,{adapter:K.rW.OPENLOGIN,reconnected:!t});case 41:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})}]),p}(K.J5)},68531:function(e,t,r){r.d(t,{FL:function(){return k},Zk:function(){return b}});var n,i=r(15671),o=r(43144),a=r(97326),s=r(32531),c=r(82963),l=r(73237),h=r(61120),u=r(4942),p=r(22782),d=r(16843),f=r(79826),g=r(15861),m=r(64687),v=r.n(m),y=r(95844),w=r(23420),E=r.n(w);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=function(e){(0,s.Z)(n,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(n);if(t){var i=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function n(e){var t,o,s=e.config,c=e.state;if((0,i.Z)(this,n),o=r.call(this,{config:s,state:c}),(0,u.Z)((0,a.Z)(o),"_providerEngineProxy",null),!s.chainConfig)throw d.Ty.invalidProviderConfigError("Please provide chainConfig");if(!s.chainConfig.chainId)throw d.Ty.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!s.chainConfig.rpcTarget)throw d.Ty.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");return o.defaultState={chainId:"loading"},o.defaultConfig={chainConfig:s.chainConfig,networks:(0,u.Z)({},s.chainConfig.chainId,s.chainConfig)},(0,l.Z)((t=(0,a.Z)(o),(0,h.Z)(n.prototype)),"initialize",t).call(t),o}return(0,o.Z)(n,[{key:"provider",get:function(){return this._providerEngineProxy},set:function(e){throw Error("Method not implemented.")}},{key:"addChain",value:function(e){if(!e.chainId||!e.rpcTarget)throw f.ethErrors.rpc.invalidParams("chainId is required");this.configure({networks:O(O({},this.config.networks),{},(0,u.Z)({},e.chainId,e))})}},{key:"getChainConfig",value:function(e){var t,r=null===(t=this.config.networks)||void 0===t?void 0:t[e];if(!r)throw f.ethErrors.rpc.invalidRequest("Chain ".concat(e," is not supported, please add chainConfig for it"));return r}},{key:"getProviderEngineProxy",value:function(){return this._providerEngineProxy}},{key:"updateProviderEngineProxy",value:function(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=(0,p.qY)(e)}}]),n}(p.xG),k=function(){var e,t;function r(){(0,i.Z)(this,r),(0,u.Z)(this,"_providerEngineProxy",null)}return(0,o.Z)(r,[{key:"provider",get:function(){return this._providerEngineProxy},set:function(e){throw Error("Method not implemented.")}},{key:"addChain",value:function(e){throw Error("Method not implemented.")}},{key:"setupProvider",value:(e=(0,g.Z)(v().mark(function e(t){var r,n,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.getPrivKeyMiddleware(t),(n=new y.eI).push(r),i=(0,p.Xj)(n),this.updateProviderEngineProxy(i);case 5:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)})},{key:"switchChain",value:(t=(0,g.Z)(v().mark(function e(t){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"getProviderEngineProxy",value:function(){return this._providerEngineProxy}},{key:"updateProviderEngineProxy",value:function(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=(0,p.qY)(e)}},{key:"getPrivKeyMiddleware",value:function(e){var t,r={getPrivatekey:(t=(0,g.Z)(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})};return this.createPrivKeyMiddleware(r)}},{key:"createPrivKeyMiddleware",value:function(e){var t=e.getPrivatekey;function r(){return(r=(0,g.Z)(v().mark(function e(r,n){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n.result=e.sent;case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,y.v0)({private_key:(0,y.Pk)(function(e,t){return r.apply(this,arguments)})})}}]),r}();(0,u.Z)(k,"getProviderInstance",(n=(0,g.Z)(v().mark(function e(t){var r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new k,e.next=3,r.setupProvider(t.privKey);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),E()()},16843:function(e,t,r){r.d(t,{EN:function(){return f},H2:function(){return L},J5:function(){return U},MP:function(){return Z},RM:function(){return b},Ty:function(){return O},cM:function(){return A},h2:function(){return w},hN:function(){return R},n2:function(){return D},rW:function(){return x},yk:function(){return g}});var n=r(15671),i=r(43144),o=r(97326),a=r(32531),s=r(82963),c=r(61120),l=r(4942),h=r(95844),u=r(13631);r(64687),r(20917),r(96245);var p=r(2043),d=r.n(p),f={EIP155:"eip155",SOLANA:"solana",OTHER:"other"},g={EIP155:"eip155",SOLANA:"solana",MULTICHAIN:"multichain"},m=function(e){if(e===f.EIP155||e===f.SOLANA)return 1;throw Error("Chain namespace ".concat(e," is not supported"))},v=function(e){var t=f.EIP155;return 1===e?{chainNamespace:t,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorer:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:3===e?{chainNamespace:t,chainId:"0x3",rpcTarget:"https://rpc.ankr.com/eth_ropsten",displayName:"Ropsten Testnet",blockExplorer:"https://ropsten.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:4===e?{chainNamespace:t,chainId:"0x4",rpcTarget:"https://rpc.ankr.com/eth_rinkeby",displayName:"Rinkeby Testnet",blockExplorer:"https://rinkeby.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:5===e?{chainNamespace:t,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorer:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum"}:137===e?{chainNamespace:t,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorer:"https://polygonscan.com",ticker:"MATIC",tickerName:"Polygon"}:80001===e?{chainNamespace:t,chainId:"0x13881",rpcTarget:"https://rpc.ankr.com/polygon_mumbai",displayName:"Polygon Mumbai Testnet",blockExplorer:"https://mumbai.polygonscan.com/",ticker:"MATIC",tickerName:"Polygon"}:56===e?{chainNamespace:t,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorer:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain"}:97===e?{chainNamespace:t,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorer:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain"}:25===e?{chainNamespace:t,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:338===e?{chainNamespace:t,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorer:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:8217===e?{chainNamespace:t,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorer:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn"}:null},y=function(e){var t=f.SOLANA;return 1===e?{chainNamespace:t,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorer:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana"}:2===e?{chainNamespace:t,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorer:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana"}:3===e?{chainNamespace:t,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorer:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana"}:null},w=function(e,t){if(e===f.OTHER)return null;var r=t?"number"==typeof t?t:parseInt(t,16):m(e);return e===f.EIP155?v(r):e===f.SOLANA?y(r):null};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var P=function(e){(0,a.Z)(r,e);var t=E(r);function r(e,i){var a;return(0,n.Z)(this,r),a=t.call(this,i),(0,l.Z)((0,o.Z)(a),"code",void 0),(0,l.Z)((0,o.Z)(a),"message",void 0),a.code=e,a.message=i||"",Object.defineProperty((0,o.Z)(a),"name",{value:"Web3AuthError"}),a}return(0,i.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,code:this.code,message:this.message}}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}]),r}(u.s),O=function(e){(0,a.Z)(r,e);var t=E(r);function r(e,i){var a;return(0,n.Z)(this,r),a=t.call(this,e,i),Object.defineProperty((0,o.Z)(a),"name",{value:"WalletInitializationError"}),a}return(0,i.Z)(r,null,[{key:"fromCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new r(e,"".concat(r.messages[e],", ").concat(t))}},{key:"notFound",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5001,e)}},{key:"notInstalled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5002,e)}},{key:"notReady",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5003,e)}},{key:"windowBlocked",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5004,e)}},{key:"windowClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5005,e)}},{key:"incompatibleChainNameSpace",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5006,e)}},{key:"duplicateAdapterError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5007,e)}},{key:"invalidProviderConfigError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5008,e)}},{key:"providerNotReadyError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5009,e)}},{key:"rpcConnectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5010,e)}},{key:"invalidParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5011,e)}},{key:"invalidNetwork",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5013,e)}}]),r}(P);(0,l.Z)(O,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});var b=function(e){(0,a.Z)(r,e);var t=E(r);function r(e,i){var a;return(0,n.Z)(this,r),a=t.call(this,e,i),Object.defineProperty((0,o.Z)(a),"name",{value:"WalletLoginError"}),a}return(0,i.Z)(r,null,[{key:"fromCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new r(e,"".concat(r.messages[e]).concat(t))}},{key:"connectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5111,e)}},{key:"disconnectionError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5112,e)}},{key:"notConnectedError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5113,e)}},{key:"popupClosed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.fromCode(5114,e)}}]),r}(P);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(0,l.Z)(b,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user"});var N={OPENLOGIN:"openlogin",WALLET_CONNECT_V1:"wallet-connect-v1",WALLET_CONNECT_V2:"wallet-connect-v2"},_=C({TORUS_SOLANA:"torus-solana",PHANTOM:"phantom",SOLLET:"sollet",SOLLET_EXTENSION:"sollet-extension",SOLFLARE:"solflare",SLOPE:"slope"},N),I=C({TORUS_EVM:"torus-evm",METAMASK:"metamask",COINBASE:"coinbase"},N),x=C(C({},I),_);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,l.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var R={EXTERNAL:"external",IN_APP:"in_app"},Z={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},D=S(S({},Z),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated"}),U=function(e){(0,a.Z)(h,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(h);if(t){var n=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function h(){var e;(0,n.Z)(this,h);for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=r.call.apply(r,[this].concat(i)),(0,l.Z)((0,o.Z)(e),"adapterData",{}),(0,l.Z)((0,o.Z)(e),"sessionTime",86400),(0,l.Z)((0,o.Z)(e),"chainConfig",null),e}return(0,i.Z)(h,[{key:"chainConfigProxy",get:function(){return this.chainConfig?S({},this.chainConfig):null}},{key:"setChainConfig",value:function(e){if(this.status!==Z.READY){if(!e.chainNamespace)throw O.notReady("ChainNamespace is required while setting chainConfig");var t=w(e.chainNamespace,e.chainId);this.chainConfig=S(S({},t),e)}}},{key:"setAdapterSettings",value:function(e){}},{key:"checkConnectionRequirements",value:function(){if(this.name!==x.WALLET_CONNECT_V1||this.status!==Z.CONNECTING){if(this.status===Z.CONNECTING)throw O.notReady("Already connecting");if(this.status===Z.CONNECTED)throw b.connectionError("Already connected");if(this.status!==Z.READY)throw b.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function");if(!this.clientId)throw b.connectionError("Please initialize Web3Auth with a valid clientId in constructor")}}},{key:"checkInitializationRequirements",value:function(){if(this.status!==Z.NOT_READY){if(this.status===Z.CONNECTED)throw O.notReady("Already connected");if(this.status===Z.READY)throw O.notReady("Adapter is already initialized")}}},{key:"updateAdapterData",value:function(e){this.adapterData=e,this.emit(D.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}}]),h}(h.Ue),A=d().getLogger("web3auth-logger"),L=function(e){return("string"==typeof e||"number"==typeof e)&&/^(-)?0x[0-9a-f]*$/i.test(e)}}}]);